/* skPlayer by Scott */
!function(a){var b={timeFormat:function(a){var b=parseInt(a/60),c=parseInt(a%60),d=b<10?"0"+b:b,e=c<10?"0"+c:c;return d+":"+e},leftDistance:function(a){for(var b=a.offsetLeft;a.offsetParent;)a=a.offsetParent,b+=a.offsetLeft;return b}};skPlayer=function(c){function d(){"undefined"!=m.loop&&1==m.loop&&(q.loop=!0),p=this.duration,x.innerHTML="00:00",y.innerHTML=b.timeFormat(parseInt(p)),1==q.volume&&(q.volume=.7,u.style.width="70%"),z.style.backgroundColor="rgba(255,255,255,.0)",z.style.color="rgba(117,101,98,.0)",setTimeout(function(){z.style.display="none",r.addEventListener("click",h)},900)}function e(){p=this.duration}function f(){var a=parseInt(q.currentTime),c=a/p*100;s.style.width=c.toFixed(2)+"%",x.innerHTML=b.timeFormat(a)}function g(){r.classList.remove("skPlayer-pause"),A.classList.remove("skPlayer-pause"),x.innerHTML="00:00",s.style.width=0}function h(){q.paused?q.play():q.pause(),r.classList.contains("skPlayer-pause")?(r.classList.remove("skPlayer-pause"),A.classList.remove("skPlayer-pause")):(r.classList.add("skPlayer-pause"),A.classList.add("skPlayer-pause"))}function i(c){var d,e=a.event||c;d=e.pageX?(e.pageX-b.leftDistance(this))/this.offsetWidth:(e.clientX-b.leftDistance(this))/this.offsetWidth,s.style.width=100*d+"%",q.currentTime=parseInt(d*p)}function j(c){var d=a.event||c;w.classList.contains("skPlayer-quiet")&&w.classList.remove("skPlayer-quiet");var e;e=d.pageX?(d.pageX-b.leftDistance(this))/this.offsetWidth:(d.clientX-b.leftDistance(this))/this.offsetWidth,u.style.width=100*e+"%",q.volume=e.toFixed(2)}function k(){0!=q.volume?(w.setAttribute("data-volume",q.volume),q.volume=0,u.style.width=0,w.classList.add("skPlayer-quiet")):(q.volume=w.getAttribute("data-volume"),u.style.width=100*w.getAttribute("data-volume")+"%",w.setAttribute("data-volume","0"),w.classList.remove("skPlayer-quiet"))}function l(){q.addEventListener("canplaythrough",d),q.addEventListener("durationchange",e),q.addEventListener("timeupdate",f),q.addEventListener("ended",g),t.addEventListener("click",i),v.addEventListener("click",j),w.addEventListener("click",k)}if(!(c.src&&c.name&&c.author&&c.cover))return void console.error("请正确配置对象！");var m=c,n=document.getElementById("skPlayer"),o='<audio src="'+m.src+'" preload="auto"></audio>';o+='<div class="skPlayer-picture">',o+='    <img src="'+m.cover+'" alt="" class="skPlayer-cover">',o+='    <a href="javascript:;" class="skPlayer-play-btn">',o+='        <span class="skPlayer-left"></span>',o+='        <span class="skPlayer-right"></span>',o+="    </a>",o+="</div>",o+='<div class="skPlayer-control">',o+='    <p class="skPlayer-name">'+m.name+"</p>",o+='    <p class="skPlayer-author">'+m.author+"</p>",o+='    <div class="skPlayer-percent">',o+='        <div class="skPlayer-line"></div>',o+="    </div>",o+='    <p class="skPlayer-time">',o+='        <span class="skPlayer-cur"></span>/<span class="skPlayer-total"></span>',o+="    </p>",o+='    <div class="skPlayer-volume">',o+='        <i class="skPlayer-icon" data-volume="0"></i>',o+='        <div class="skPlayer-percent">',o+='            <div class="skPlayer-line"></div>',o+="        </div>",o+="    </div>",o+="</div>",o+='<div class="skPlayer-loading">',o+="    LOADING",o+="</div>",n.innerHTML=o;var p,q=n.querySelector("audio"),r=n.querySelector(".skPlayer-play-btn"),s=n.querySelector(".skPlayer-percent").querySelector(".skPlayer-line"),t=n.querySelector(".skPlayer-percent"),u=n.querySelector(".skPlayer-volume").querySelector(".skPlayer-line"),v=n.querySelector(".skPlayer-volume").querySelector(".skPlayer-percent"),w=n.querySelector(".skPlayer-icon"),x=n.querySelector(".skPlayer-cur"),y=n.querySelector(".skPlayer-total"),z=n.querySelector(".skPlayer-loading"),A=n.querySelector(".skPlayer-cover");l()},a.skPlayer=skPlayer}(window),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=window.skPlayer);