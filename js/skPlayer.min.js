/* skPlayer by Scott */
!function(a){var b={timeFormat:function(a){var b=parseInt(a/60),c=parseInt(a%60),d=b<10?"0"+b:b,e=c<10?"0"+c:c;return d+":"+e},leftDistance:function(a){for(var b=a.offsetLeft;a.offsetParent;)a=a.offsetParent,b+=a.offsetLeft;return b}};skPlayer=function(a){function c(){"undefined"!=l.loop&&1==l.loop&&(p.loop=!0),o=this.duration,w.innerText="00:00",x.innerText=b.timeFormat(parseInt(o)),1==p.volume&&(p.volume=.7,t.style.width="70%"),y.style.backgroundColor="rgba(255,255,255,.0)",y.style.color="rgba(117,101,98,.0)",setTimeout(function(){y.style.display="none",q.addEventListener("click",g)},900)}function d(){o=this.duration}function e(){var a=parseInt(p.currentTime),c=a/o*100;r.style.width=c.toFixed(2)+"%",w.innerText=b.timeFormat(a)}function f(){q.classList.remove("skPlayer-pause"),z.classList.remove("skPlayer-pause"),w.innerText="00:00",r.style.width=0}function g(){p.paused?p.play():p.pause(),q.classList.contains("skPlayer-pause")?(q.classList.remove("skPlayer-pause"),z.classList.remove("skPlayer-pause")):(q.classList.add("skPlayer-pause"),z.classList.add("skPlayer-pause"))}function h(){var a=(event.pageX-b.leftDistance(this))/this.offsetWidth;r.style.width=100*a+"%",p.currentTime=parseInt(a*o)}function i(){v.classList.contains("skPlayer-quiet")&&v.classList.remove("skPlayer-quiet");var a=(event.pageX-b.leftDistance(this))/this.offsetWidth;t.style.width=100*a+"%",p.volume=a.toFixed(2)}function j(){0!=p.volume?(v.setAttribute("data-volume",p.volume),p.volume=0,t.style.width=0,v.classList.add("skPlayer-quiet")):(p.volume=v.getAttribute("data-volume"),t.style.width=100*v.getAttribute("data-volume")+"%",v.setAttribute("data-volume","0"),v.classList.remove("skPlayer-quiet"))}function k(){p.addEventListener("canplaythrough",c),p.addEventListener("durationchange",d),p.addEventListener("timeupdate",e),p.addEventListener("ended",f),s.addEventListener("click",h),u.addEventListener("click",i),v.addEventListener("click",j)}if(!(a.src&&a.name&&a.author&&a.cover))return void console.error("请正确配置对象！");var l=a,m=document.getElementById("skPlayer"),n='<audio src="'+l.src+'" preload="auto"></audio>';n+='<div class="skPlayer-picture">',n+='    <img src="'+l.cover+'" alt="" class="skPlayer-cover">',n+='    <a href="javascript:;" class="skPlayer-play-btn">',n+='        <span class="skPlayer-left"></span>',n+='        <span class="skPlayer-right"></span>',n+="    </a>",n+="</div>",n+='<div class="skPlayer-control">',n+='    <p class="skPlayer-name">'+l.name+"</p>",n+='    <p class="skPlayer-author">'+l.author+"</p>",n+='    <div class="skPlayer-percent">',n+='        <div class="skPlayer-line"></div>',n+="    </div>",n+='    <p class="skPlayer-time">',n+='        <span class="skPlayer-cur"></span>/<span class="skPlayer-total"></span>',n+="    </p>",n+='    <div class="skPlayer-volume">',n+='        <i class="skPlayer-icon" data-volume="0"></i>',n+='        <div class="skPlayer-percent">',n+='            <div class="skPlayer-line"></div>',n+="        </div>",n+="    </div>",n+="</div>",n+='<div class="skPlayer-loading">',n+="    LOADING",n+="</div>",m.innerHTML=n;var o,p=m.querySelector("audio"),q=m.querySelector(".skPlayer-play-btn"),r=m.querySelector(".skPlayer-percent").querySelector(".skPlayer-line"),s=m.querySelector(".skPlayer-percent"),t=m.querySelector(".skPlayer-volume").querySelector(".skPlayer-line"),u=m.querySelector(".skPlayer-volume").querySelector(".skPlayer-percent"),v=m.querySelector(".skPlayer-icon"),w=m.querySelector(".skPlayer-cur"),x=m.querySelector(".skPlayer-total"),y=m.querySelector(".skPlayer-loading"),z=m.querySelector(".skPlayer-cover");k()},a.skPlayer=skPlayer}(window),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=window.skPlayer);